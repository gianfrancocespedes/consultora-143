---
import Sidebar from '../components/Sidebar.astro';

const { title } = Astro.props;
---

<!doctype html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Astro description" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="icon" type="image/svg+xml" href="/consultora.jpg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
        <script>
            // On page load or when changing themes, best to add inline in `head` to avoid FOUC
            if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark')
            }

            var themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
            var themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');

            // Change the icons inside the button based on previous settings
            if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                themeToggleLightIcon.classList.remove('hidden');
            } else {
                themeToggleDarkIcon.classList.remove('hidden');
            }

            var themeToggleBtn = document.getElementById('theme-toggle');

            themeToggleBtn.addEventListener('click', function() {

                // toggle icons inside button
                themeToggleDarkIcon.classList.toggle('hidden');
                themeToggleLightIcon.classList.toggle('hidden');

                // if set via local storage previously
                if (localStorage.getItem('color-theme')) {
                    if (localStorage.getItem('color-theme') === 'light') {
                        document.documentElement.classList.add('dark');
                        localStorage.setItem('color-theme', 'dark');
                    } else {
                        document.documentElement.classList.remove('dark');
                        localStorage.setItem('color-theme', 'light');
                    }

                // if NOT set via local storage previously
                } else {
                    if (document.documentElement.classList.contains('dark')) {
                        document.documentElement.classList.remove('dark');
                        localStorage.setItem('color-theme', 'light');
                    } else {
                        document.documentElement.classList.add('dark');
                        localStorage.setItem('color-theme', 'dark');
                    }
                }
                
            });
        </script>
	</head>
	<body>
        <Sidebar/>
		<slot />
        <script is:inline src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.8.0/flowbite.min.js"></script>
	</body>
</html>

<style is:global>
	:root {
		
	}

    html {
        font-family: 'Spectre', sans-serif;
        width: 100%;
    }

    @font-face {
        font-display: swap;
        font-family: Spectre;
        font-style: normal;
        font-weight: 300;
        src: url('/fonts/Spectre--light.woff2') format("woff2")
    }

    @font-face {
        font-display: swap;
        font-family: Spectre;
        font-style: normal;
        font-weight: 400;
        src: url('/fonts/Spectre--regular.woff2') format("woff2")
    }

    @font-face {
        font-display: swap;
        font-family: Spectre;
        font-style: normal;
        font-weight: 500;
        src: url('/fonts/Spectre--medium.woff2') format("woff2")
    }

    @font-face {
        font-display: swap;
        font-family: Spectre;
        font-style: normal;
        font-weight: 700;
        src: url('/fonts/Spectre--bold.woff2') format("woff2")
    }

    @font-face {
        font-display: swap;
        font-family: Spectre;
        font-style: normal;
        font-weight: 800;
        src: url('/fonts/Spectre--extrabold.woff2') format("woff2")
    }

    @font-face {
        font-display: swap;
        font-family: Spectre;
        font-style: normal;
        font-weight: 900;
        src: url('/fonts/Spectre--black.woff2') format("woff2")
    }
</style>
